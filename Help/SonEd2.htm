<!-- (C) 2010, Vladikcomper -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Справка S1HS2</title>
<link type="text/css" rel="stylesheet" href="style.css" />
</head>

<body>

<div class="header">
	<h1>S1 Hacking Studio 2</h1>
	<p style="font-size: 90%">Справочное руководство</p>
	<p class="menu">
		<span><a href="Index.htm">Введение</a></span>
		<span><a href="Disasm.htm">Дизасембл</a></span>
		<span><a href="S1HS.htm">S1HS</a></span>
		<span><a href="Creditor.htm">Creditor</a></span>
		<span class="active">SonED2</span>
	</p>
</div>

<p><b>SonED2</b> &mdash; это многофункциональный редактор уровней, созданный <b>Stealth</b>'ом. С помощью него, любой уровень в Соник 1 и Соник 2 можно переделать до неузнаваемости, так как это программа не просто редактирует уровни, а также включает в себя редактор тайлов, блоков, чанков (блоков 256х256) и твердых поверхностей. Единственный минус этого огромного чуда &mdash; его непонятный интерфейс, рассчитанный, по словам автора, только на <i>advanced users</i>. Так что в этом небольшом руководстве я постараюсь доступно рассказать про интерфейс и функции СонЭда, чтобы сделать вас эдвансд юзером.</p>

<img src="SonEd2.png" />

<p>При запуске программы, появятся два окна: сам редактор, и некое подобие консоли, куда выводятся все ошибки, возникшие во время работы с программой. Для начала работы нажмите <b>File->Open Project</b> и выберите один из SEP-файлов в папке с программой, например <b>ghz3.sep</b>. Как видно, каждый из них отвечает за определенную зону в игре и все они редактируются по отдельности.</p>

<p>Как уже говорилось, программа состоит из нескольких частей &mdash; отдельных редакторов. Между ними можно переключаться, для этого достаточно просто зайти в меню <b>Editor</b> и выбрать нужный вам редактор. Но удобнее всего переключаться между ними с помощью клавиш:</p>

<p><b>I</b> &mdash; Редактор тайлов<br />
<b>O</b> &mdash; Редактор объектов<br />
<b>L</b> &mdash; Редактор уровня (План А)<br />
<b>P</b> &mdash; Редактор уровня (План Б)<br /></p>

<p>Интерфейс программы изменится в зависимости от выбранного редактора.</p>

<p>По мере работы в СонЭде не забывайте почаще сохраняться клавишей <b>F3</b>. Команды <i>Undo</i> (отменить последнее действие) в программе нет, так что если вы случайно испортите что-нибудь, просто закройте программу без сохранения и откройте заново.</p>

<p>Еще SonEd неприятен тем, что окошко программы нельзя увеличить, при этом в редакторе очень много мелких надписей. Чтобы не портить лишний раз зрение, рекомендуется иногда разворачивать программу во весь экран клавишей <b>F4</b>.</p>

<h1>Редактор объектов</h1>

<p>С этим редактором вам придется работать чаще всего, так что с него и начнем. Как ясно из названия, он служит для работы с объектами на уровне.</p>

<p>В этом редакторе отображается передний план уровня (План А, еще называемый Foreground) вместе с объектами, которые можно перемещать, удалять и создавать. По уровню можно перемещаться с помощью стрелок на клавиатуре или скролл-баров по краям окна.</p>

<p>Текст в левом верхнем углу отображает состояние редактора:</p>

<img src="SonEd2-ObjEd.gif" />

<ul>
	<li><b>Screen Position</b> &mdash; это положение камеры, координаты левого верхнего угла. Первое слово (англ. word &mdash; термин, обозначающий тип из 2 байтов) показывает X-координату, второе &mdash; Y.</li>
	<li><b>Plane Size</b> &mdash; размер уровня в чанках (блоках 256х256). Первое слово &mdash; ширина, второе &mdash; высота. Размер уровня можно увеличивать/уменьшать с помощью сочетания <b>Ctrl</b> + Стрелка на клавиатуре, только учтите, что хотя это и изменит размер уровня, игра все равно будет видеть уровень в первоначальном размере, пока вы не измените связанный с этим код.</li>
	<li><b>Scroll Speed</b> &mdash; скорость прокрутки уровня, ее можно изменять клавишами <b>H</b> и <b>N</b>.</li>
	<li><b>Snap-To-Grid</b> &mdash; с каким порогом (в пикселях) перемещать объекты. По умолчанию стоит 1 &mdash; объекты сдвигаются плавно, попиксельно. При увеличении этого значения, объекты будут привязываться к невидимой сетке, это удобно, когда нужно, например, выстроить мониторы строго в ряд. Клавишами <b>J</b> и <b>M</b> можно изменять значение сдвига.</li>
</ul>

<p>При наведении курсора на любой объект, текст в левом углу дополнится еще несколькими надписями, отображающими состояние объекта. Их мы рассмотрим чуть позже, а пока узнаем, что можно делать с объектом:</p>

<ul>
	<li>Объект можно перемещать с помощью мыши.</li>
	<li><b>Двойной щелчок левой кнопкой</b> открывает список объектов, позволяя заменить этот объект на какой-нибудь другой. Щелчок левой кнопкой мыши подтверждает выбор нового объекта, а правой &mdash; просто закрывает список, не заменяя объект.</li>
	<li><b>Двойной щелчок правой кнопкой</b> удаляет объект.</li>
	<li>Когда курсор мыши не стоит на каком-либо объекте, <b>двойной щелок левой кнопкой</b> создает новый пустой объект.</li>
</ul>

<p>Некоторые объекты на уровне отображаются в виде знаков вопроса. При этом в игре они отображается нормально. Это связано с тем, что список объектов в SonEd2 не полный, и некоторые объекты он не &laquo;знает&raquo;. Однако, это не как не сказывается на игре, можно свободно редактировать и создавать такие объекты.</p>

<p>Теперь настала пора изучить надписи, отображающие состояние объекта в левом верхнем углу. Они будут отображаться для любого объекта, и именно с помощью них можно изменить <i>свойства</i> многих объектов.</p>

<ul>
	<li><b>Object Position</b> &mdash; координаты объекта, первое слово &mdash; X-координата, второе &mdash; Y. Их можно изменить, перетаскивая объект с помощью мыши.</li>
	<li><b>Object Type Id</b> &mdash; три байта, описывающие тип и свойства объекты. Обратите внимание, что все надписи ниже только <i>расшифровывают</i> значения этих байтов.<br />
	<i>Первый байт</i> &mdash; Id (номер) объекта, его значение изменяется клавишами <b>A</b> и <b>Z</b>; <br />
	<i>Второй байт</i> &mdash; подтип объекта, придающий ему разные свойства (например, у Obj26 определяет содержимое монитора), значение изменяется клавишами <b>S</b> и <b>X</b>;<br />
	<i>Третий байт</i> &mdash; различные флаги объекта (запоминать ли его положение, в какую сторону его повернуть), его значение изменяется клавишами <b>D</b> и <b>C</b>.</li>
	<li><b>Object Type</b> &mdash; расшифровывает первый байт из поля <i>Object Type Id</i>. Здесь отображается имя объекта (например, Buzzbomber, Monitor), которое определяется по его номеру (тот самый байт).</li>
	<li><b>Bits</b> &mdash; расшифровывает второй байт. Здесь второй байт представлен в виде битов, это удобно, если каждый бит за что-то отвечает. Если СонЭд хорошо &laquo;знает&raquo; объект, эти самые биты будут расшифрованы ниже надписями <i>Param Field X</i>, рассказывающими что означают некоторые биты (например, цвет пружины, содержимое мониторов и пр.).</li>
	<li><b>Draw Dir</b> &mdash; определяет, стоит ли отражать объект по вертикали или горизонтали. Расшифровывает третий байт из <i>Object Type Id</i>.</li>
	<li><b>Remember Sprite State</b> &mdash; этот флаг определяет, стоит ли Сониковскому движку запоминать состояние объекта. Дело в том, что Соник 1 не может держать в памяти все объекты, и некоторые ему приходится &laquo;забывать&raquo;. Тогда, стоит вам собрать кольцо, отойти от него, а потом вернуться &mdash; оно снова будет на старом месте. Чтобы этого не допустить, для таких объектов, как мониторы, кольца и бадники полезно ставить значение этого поля на YES. А изменить значение этого флага можно нажав клавишу <b>0</b>.</li>
</ul>

<p>Кстати, будьте очень осторожны с полем <i>Bits</i>, которое расшифровывает второй байт из <i>Object Type Id</i>. Если после редактирования уровня игра внезапно вылетает в определенных местах, возможно вы задали неверное значение. Например, в игре могут быть задействованы только пару битов справа, но если вы случайно затронете еще один, SonEd этого не заметит, а в игре объект будет работать неправильно или не работать вообще.</p>

<h1>Редактор уровня</h1>

<p>Этот редактор довольно несложен в освоении, так как функций немного. В SonEd2 есть два таких редактора, первых из которых редактирует План А (передний план, <i>foreground</i>), второй &mdash; План Б (задний план, <i>background</i>). Принцип работы в обоих один почти один и тот же: все, с чем вам предстоит работать в них &mdash; это чанки (блоки 256х256).</p>

<p>Статусный текст в левом верхнем углу местами похож на текст в редакторе объектов, только с добавлением полей, относящихся к чанкам:</p>

<ul>
	<li><b>Current Chunk</b> &mdash; определяет номер текущего чанка, который можно размещать на уровне с помощью левой кнопки мыши. Изменять его значение можно с помощью клавиш <b>A</b> и <b>Z</b>.</li>
	<li><b>Chunk at Cursor</b> &mdash; номер чанка под курсором мыши. Нажав правую кнопку мыши можно установить чанк под курсором в качестве текущего (<i>Current Chunk</i>).</li>
	<li><b>Objects [состояние]</b> &mdash; это поле определяет, как отображать объекты и отображать ли их вообще. По вполне понятным причинам, это поле имеет эффект только в редакторе Плана А. Изменить его значение можно клавишей <b>T</b>. Это поле есть также и в редакторе объектов, но там можно только настроить способ их отображения.</li>
</ul>

<p>Кстати, если вы установите опцию <b>Transculent Cursor</b> в меню <b>Editor</b>, наносимый чанк под курсором станет полупрозрачным. В большинстве случаев страшно удобно.</p>

<h1>Редактор тайлов</h1>

<p>Это самый сложный и запутанный в СонЭде редактор. Фактически, это воистину мощный инструмент, которым можно изменить уровень до неузнаваемости. Позволяет изменять арт уровня, чанки, блоки, палитру и многое другое. Разумеется, все это невозможно уместить в маленьком окошке, поэтому в нем есть несколько переключателей:</p>

<ul>
	<li><b>Chunk Selector</b> &mdash; отображает чанки.</li>
	<li><b>Block Selector</b> &mdash; отображает блоки 16х16.</li>
	<li><b>Tile Selector</b> &mdash; отображает тайлы.</li>
	<li><b>Solid Select</b> &mdash; отображает твердые поверхности.</li>
</ul>

<p>А теперь давайте выполним небольшое упражнение и найдем эти надписи среди прочей каши букв и пикселей:</p>

<img src="SonEd2-TileEd.png" />

<p>На эти надписи можно нажать, и тогда выбранная надпись станет желтой, а содержимое в правой части изменится. Так, справа можно отображать чанки, блоки, тайлы и твердые поверхности. Но это не значит, что если вы хотите поработать, например, с блоками, то надо нажимать соответствующую надпись. Сами блоки редактируются в левой части окна, а правая часть только поможет вам быстрее их выбрать или просто посмотреть, что там с блоками творится.</p>

<p>Пока остановимся на чанках. Включите <b>Chunk Selector</b>, справа появятся блоки 256х256. С помощью стрелок вверх/вниз или скролл-бара можно пролистать список чанков. Если щелкнуть по чанку <b>левой кнопкой мыши</b>, он появится в <i>редакторе чанков</i> &mdash; специальной области в левой нижней части экрана. Здесь его можно редактировать.</p>

<p>Чанки строятся из блоков (16х16), блоки строятся из тайлов (8х8). Наведите курсор мыши на любой блок и дважды щелкните по нему правой кнопкой мыши. Этот блок станет <i>текущим</i>, его изображение появится в небольшом квадратике в верхней части окна. <i>Текущим блоком</i> можно рисовать на чанке, достаточно зажать левую кнопку мыши и творить. Кстати, очень советую активизировать надпись <b>Show Block</b>, благодаря ей блок отобразится в большой области, что под надписью &laquo;Block Selector&raquo;. Если же вы просто хотите <i>выделить</i> текущий блок, не делая его активным, просто нажмите <b>правую кнопку мыши</b>.</p>

<p>Обратите внимание на четыре строчки, которые находятся прямо над редактором чанков. Они имеют к нему непосредственное отношение и позволяют изменять свойства <i>выделенного блока</i>. Крошечные стрелочки слева от надписей позволяют изменить их значение.</p>

<ul>
	<li><b>Chunk Id</b> &mdash; номер редактируемого чанка. Его можно изменить, и тогда в редакторе окажется другой чанк. При выборе чанков из списка справа, этот номер, естественно, меняется.</li>
	<li><b>[Значение] Solid</b> &mdash; это уже имеет отношение к выделенному блоку. Этот параметр настраивает его твердость, возможны несколько значений:<br />
	<i>Not Solid</i> &mdash; твердость отсутствует;<br />
	<i>All Solid</i> &mdash; блок твердый со всех сторон;<br />
	<i>Top Solid</i> &mdash; блок тверд только сверху, то есть, Соник сможет пройти сквозь блок снизу, а упасть с него уже не сможет;<br />
	<i>L/R/B Solid</i> &mdash; блок тверд слева, справа и снизу.</li>
	<li><b>Draw [значение]</b> &mdash; изменяя значения этого поля, можно отразить блок по горизонтали или вертикали.</li>
</ul>

<p>Раз уж речь зашла о твердости, надо рассказать про нее подробнее. В Сониках есть довольно сложные неровные поверхности: петли, трубы, да и сама земля на уровнях не всегда идеально ровная. Чтобы описать все эти неровные поверхности, при этом затратив минимум памяти и ресурсов, были придуманы <i>блоки твердости</i>. Это блоки 16х16, которые показывают твердость поверхностей. Включите <b>Solid Select</b> и вы увидите эти блоки, теперь включите <b>Chunk Selector</b> и нажмите <b>W</b> и вы увидите, как эти блоки выглядят на чанках. Клавиша <b>R</b> включает/отключает цифры на блоках, показывающие градус наклона. Клавиша <b>Q</b> снова скрывает блоки твердости. Кстати, все эти клавиши также работают в редакторах объектов и уровня, так что увидеть твердые поверхности можно и там.</p>

<p>Теперь самое время разобраться с редактированием обычных блоков 16х16. Как уже было показано, редактор блоков &mdash; это маленький квадрат в верхней части экрана. Блок состоит из четырех тайлов. Тайлы можно выделять и делать активными подобно тому, как это делалось с блоками в редакторе чанков. Слева от редактора блоков есть надписи, позволяющие изменять свойства блока и составляющих его тайлов:</p>

<ul>
	<li><b>Block Id</b> &mdash; номер блока.</li>
	<li><b>Low/High Plane</b> &mdash; определяет, на каком плане будет отображаться блок. Если установлен High Plane, блок будет перекрывать собой Соника и другие спрайты.</li>
	<li><b>Pallete Row</b> &mdash; номер строки палитры, используемой текущим блоком.</li>
</ul>

<p><i>Активный тайл</i> отображается в редакторе тайлов, небольшом квадрате в самой левой части экрана. Здесь можно выбирать нужный цвет из палитры и перерисовывать им тайл. Сама палитра расположена в самом верху. Для выбора цвета, достаточно щелкнуть по нему левой кнопкой мыши и он станет активным. Активный цвет можно изменять, изменяя значения <b>R</b>, <b>G</b> и <b>B</b>, которые отображаются под палитрой. Изменения вступают в силу сразу, так что можно вживую видеть, как изменяются цвета чанков на уровне. Палитра, как и положено, состоит из четырех строк, плюс еще четыре строки на подводную палитру. С помощью крестика справа можно менять местами подводную и обычную палитры. Это актуально в LZ/SBZ3, да и редактировать палитру можно только там.</p>

</body>

</html>

<!-- Абажаю ХэТэМэЛочку, ня! ^_^ -->